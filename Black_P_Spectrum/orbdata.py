import sys
import numpy as np
import h5py
#----------------------------------------------------------------------
def GetOrbData_tb(fs, fp, fd):
    ang = 1.0 / 0.5291772

    a1 = np.array([3.31067978852923, 0.0, 0.0]) * ang
    a2 = np.array([0.0, 4.58545824667620, 0.0]) * ang
    a3 = np.array([0.0, 0.0,  10.9888937548268 ]) * ang

    norb = 32
    nat = 8
    lkmax = 2

    Ls = []
    Ms = []
    
    for iat in range(nat):
        # s
        Ls.extend([0])
        Ms.extend([0])
        # p
        Ls.extend([1, 1, 1])
        Ms.extend([0, 1, -1])
    
    pos = np.zeros([norb,3])

    pos = np.array([
        [      4.692209,      3.555231,     18.791046 ],
        [      4.692208,      3.421783,     18.575316 ],
        [      4.692202,      3.834970,     18.856413 ],
        [      4.692225,      3.563552,     18.835249 ],
        [      1.564069,      0.777406,     18.791034 ],
        [      1.564054,      0.910879,     18.575255 ],
        [      1.564059,      0.497694,     18.856445 ],
        [      1.564080,      0.769067,     18.835249 ],
        [      1.564066,      5.110003,     12.357956 ],
        [      1.564086,      5.243396,     12.573679 ],
        [      1.564074,      4.830531,     12.292551 ],
        [      1.564055,      5.101834,     12.313816 ],
        [      4.692216,      7.887877,     12.357962 ],
        [      4.692232,      7.754384,     12.573692 ],
        [      4.692195,      8.167303,     12.292508 ],
        [      4.692183,      7.896001,     12.313783 ],
        [      1.564072,      3.555266,      8.408049 ],
        [      1.564092,      3.421879,      8.192344 ],
        [      1.564038,      3.834618,      8.473426 ],
        [      1.563982,      3.563413,      8.452245 ],
        [      4.692204,      0.777376,      8.408055 ],
        [      4.692152,      0.910787,      8.192438 ],
        [      4.692130,      0.498000,      8.473429 ],
        [      4.692186,      0.769282,      8.452307 ],
        [      4.692212,      5.110020,      1.974943 ],
        [      4.692223,      5.243447,      2.190741 ],
        [      4.692225,      4.830505,      1.909603 ],
        [      4.692268,      5.101648,      1.930690 ],
        [      1.564073,      7.887868,      1.974939 ],
        [      1.564108,      7.754471,      2.190624 ],
        [      1.564136,      8.167421,      1.909648 ],
        [      1.564102,      7.896266,      1.930620 ]
    ])

    flm = np.zeros([norb,lkmax+1])
    for iorb in range(norb):
        if Ls[iorb] == 0:
            flm[iorb,:] = np.array([0.0, fp, 0.0])
        else:
            flm[iorb,:] = np.array([fs, 0.0, fd])

    orb_data = {
        'norb': norb,
        'ls': Ls,
        'ms': Ms,
        'pos': pos,
        'flm': flm
    }

    return orb_data
#----------------------------------------------------------------------
if __name__ == "__main__":

    f = h5py.File("./data/blackp.h5", "r")
    coords = np.copy(f['coords'])
    f.close()

    for i in range(coords.shape[1]):
        print("[ {:13.6f}, {:13.6f}, {:13.6f} ]".format(coords[0,i],coords[1,i],coords[2,i]))
    




